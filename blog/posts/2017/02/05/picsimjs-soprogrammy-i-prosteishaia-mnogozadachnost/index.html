<!DOCTYPE html>
<html lang="ru">
<head>
        <meta charset="utf-8" />
        <title>PICSim.js - —Å–æ–ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –ø—Ä–æ—Å—Ç–µ–π—à–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å</title>
        <link rel="stylesheet" href="https://mazko.github.io/blog/theme/css/main.css" />
        <link href="https://mazko.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="üè† –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –í—Å–µ–≥–æ üöó Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a rel="nofollow" href="http://github.com/mazko">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="https://mazko.github.io/">üè† –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –í—Å–µ–≥–æ üöó </a></h1>
                <nav><ul>
                    <li><a href="https://mazko.github.io/blog/category/admin/">Admin</a></li>
                    <li><a href="https://mazko.github.io/blog/category/electronics/">Electronics</a></li>
                    <li class="active"><a href="https://mazko.github.io/blog/category/embedded/">Embedded</a></li>
                    <li><a href="https://mazko.github.io/blog/category/iot/">IoT</a></li>
                    <li><a href="https://mazko.github.io/blog/category/java/">Java</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://mazko.github.io/blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/" rel="bookmark"
           title="Permalink to PICSim.js - —Å–æ–ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –ø—Ä–æ—Å—Ç–µ–π—à–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å">PICSim.js - —Å–æ–ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –ø—Ä–æ—Å—Ç–µ–π—à–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-02-05T00:00:00+02:00">
                –í—Å 05 —Ñ–µ–≤—Ä–∞–ª—è 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://mazko.github.io/blog/author/oleg-mazko/">Oleg Mazko</a>
        </address>
<p>In <a href="https://mazko.github.io/blog/category/embedded/">Embedded</a>.</p>
<p>tags: <a href="https://mazko.github.io/blog/tag/picsim">picsim</a> <a href="https://mazko.github.io/blog/tag/rtos">RTOS</a> <a href="https://mazko.github.io/blog/tag/fsm">FSM</a> </p>
</footer><!-- /.post-info -->      <p>–ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –º–∞—à–∏–Ω–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ (–º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã–µ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —è –ø–æ–∫–∞ –Ω–µ –≤—Å—Ç—Ä–µ—á–∞–ª). –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ –ø—Ä–æ—Å—Ç–µ–π—à–∞—è <a href="https://mazko.github.io/blog/posts/2017/01/13/simuliatsiia-mikrokontrollerov-picsimjs/">–ø—Ä–æ–≥—Ä–∞–º–º–∞</a> –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —ç—Ç–æ <em>—Å—É–ø–µ—Ä—Ü–∏–∫–ª</em> - –æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ <code>main</code> —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º —Ü–∏–∫–ª–æ–º, –≥–¥–µ –∫—Ä—É—Ç–∏—Ç—Å—è –∫–∞–∫–∞—è-—Ç–æ –∑–∞–¥–∞—á–∞. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Ç–∞–∫–∂–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º <a href="https://mazko.github.io/blog/posts/2017/01/16/picsimjs-semisegmentnyi-indikator-i-preryvaniia/">–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π</a> - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ—à–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏, –ø—Ä–∏—á—ë–º –≤ —Å–ª—É—á–∞–µ PIC18 —ç—Ç–æ –¥–∞–∂–µ –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π. –û–±—ã—á–Ω–æ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ–π –ª–æ–≥–∏–∫–∏, –æ–¥–Ω–∞–∫–æ –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∏—Å—Ç–µ–º–µ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Ç–µ—Ä—è–µ—Ç –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã –≤—ã–¥–µ–ª–∏—Ç—å –∏ –æ—Ç–¥–µ–ª–∏—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –ø–æ–¥–∑–∞–¥–∞—á–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∫–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–∞—Ä–∫–∞—Å, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–∏–º–∏ –ø–æ–¥–∑–∞–¥–∞—á–∞–º–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–∞–±–æ—Ä—É —è—Å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª. –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –º–æ–≥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ (–ø—Å–µ–≤–¥–æ)–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á, —Å–æ–æ–±—â–∞—é—â–∏—Ö—Å—è –º–µ–∂–¥—É —Å–æ–±–æ–π –∏ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –µ–¥–∏–Ω—ã–º —è–¥—Ä–æ–º. –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é - RTOS (–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏), –∞ –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å –±—ã–≤–∞–µ—Ç 2 –≤–∏–¥–æ–≤:</p>
<ul>
<li>
<p>–∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è - —Å–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ç–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞ —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞—Å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</p>
</li>
<li>
<p>–≤—ã—Ç–µ—Å–Ω—è—é—â–∞—è - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —Å–∞–º –ø–µ—Ä–µ–¥–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏ –¥—Ä—É–≥–æ–π</p>
</li>
</ul>
<p>–ö–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–ª–∞–±—ã—Ö –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.</p>
<p><a href="https://mazko.github.io/blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/config-4620.h">config.h</a> | <a href="https://mazko.github.io/blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/coroutine.h">coroutine.h</a> | <a href="https://mazko.github.io/blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/main.hex">hex</a> | <a href="http://mazko.github.io/picsim.js/56fd34dfd1c731a3d6eee89ccd6ee25b">picsim.js</a></p>
<p><img alt="screenshot" src="https://mazko.github.io/blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/ui.gif" style="width:100%; border:1px solid #ddd;"></p>
<p>–ü—Ä–æ—Å—Ç–µ–π—à—É—é –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å –≤ —á–∏—Å—Ç–æ–º –° –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é <a href="http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html" rel="nofollow">—Å–æ–ø—Ä–æ–≥—Ä–∞–º–º</a>(coroutine). –≠—Ç–æ –æ—á–µ–Ω—å –ø—Ä–∞–∫—Ç–∏—á–Ω–∞—è –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –≥–¥–µ –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–æ—ë –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ <a href="https://mazko.github.io/blog/posts/2012/10/09/avtomat-s-konechnym-chislom-sostoianii/">—Å–æ—Å—Ç–æ—è–Ω–∏–µ</a> –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏, —Ö–∏—Ç—Ä–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ <code>switch</code> –∏ –ø–∞—Ä–æ—á–∫–∏ –º–∞–∫—Ä–æ—Å–æ–≤ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è, –∞ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –º–µ—Å—Ç–∞ - –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –∏ –≤–µ–¥—É—Ç —Å–µ–±—è —Å–æ–ø—Ä–æ–≥—Ä–∞–º–º—ã.</p>
<p><em>task_r.c</em></p>
<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;xc.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;coroutine.h&quot;</span><span class="cp"></span>

<span class="cp">#define YIELD scrReturnV </span><span class="c1">// just readability</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">task_leds_r</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">scrBegin</span><span class="p">;</span>

  <span class="k">static</span> <span class="kt">uint8_t</span> <span class="n">i</span><span class="p">,</span> <span class="n">port</span><span class="p">;</span>

  <span class="c1">// infinite task loop</span>
  <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// chasing leds</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">port</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">port</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">port</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">))</span> <span class="p">{</span>
      <span class="n">port</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">port</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">port</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">PORTA</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="mh">0x80</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">PORTA</span> <span class="o">|=</span> <span class="mh">0x80</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">PORTC</span> <span class="o">=</span> <span class="p">(</span><span class="n">PORTC</span> <span class="o">&amp;</span> <span class="n">TRISC</span><span class="p">)</span> <span class="o">|</span> <span class="n">port</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">240</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> 
      <span class="n">YIELD</span><span class="p">;</span> <span class="cm">/* cooperate delay */</span> 
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="n">scrFinishV</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><em>task_l.c</em></p>
<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;xc.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;coroutine.h&quot;</span><span class="cp"></span>

<span class="cp">#define YIELD scrReturnV </span><span class="c1">// just readability</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">task_leds_l</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">scrBegin</span><span class="p">;</span>

  <span class="k">static</span> <span class="kt">uint8_t</span> <span class="n">i</span><span class="p">,</span> <span class="n">port</span><span class="p">;</span>

  <span class="c1">// infinite task loop</span>
  <span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// chasing leds</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">port</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">port</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="n">port</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">PORTA</span> <span class="o">=</span> <span class="p">(</span><span class="n">PORTA</span> <span class="o">&amp;</span> <span class="mh">0x80</span><span class="p">)</span> <span class="o">|</span> <span class="n">port</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">240</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> 
      <span class="n">YIELD</span><span class="p">;</span> <span class="cm">/* cooperate delay */</span> 
    <span class="p">}</span>

    <span class="c1">// blink random leds</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">port</span> <span class="o">==</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="n">port</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span> <span class="n">port</span><span class="p">;</span> <span class="n">port</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">uint8_t</span> <span class="n">random6</span><span class="p">;</span>
        <span class="k">do</span> <span class="p">{</span>
          <span class="n">random6</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="cm">/* 0..6 */</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">7</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">random6</span> <span class="o">==</span> <span class="p">(</span><span class="n">PORTA</span> <span class="o">&amp;</span> <span class="o">~</span><span class="mh">0x80</span><span class="p">));</span>
        <span class="n">PORTA</span> <span class="o">=</span> <span class="p">(</span><span class="n">PORTA</span> <span class="o">&amp;</span> <span class="mh">0x80</span><span class="p">)</span> <span class="o">|</span> <span class="n">random6</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">240</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> 
          <span class="n">YIELD</span><span class="p">;</span> <span class="cm">/* cooperate delay */</span> 
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="n">scrFinishV</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><em>main.c</em></p>
<div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">  xc8 --chip=18f4620 main.c</span>
<span class="cm">*/</span>

<span class="cp">#include</span> <span class="cpf">&lt;xc.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;config-4620.h&quot;</span><span class="cp"></span>

<span class="c1">// non-reentrant tasks examples</span>

<span class="cp">#include</span> <span class="cpf">&quot;task_l.c&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;task_r.c&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// leds</span>
  <span class="n">PORTA</span> <span class="o">=</span> <span class="n">TRISA</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">PORTC</span> <span class="o">=</span> <span class="n">TRISC</span> <span class="o">=</span> <span class="mh">0x18</span><span class="p">;</span>

  <span class="c1">// simplest cooperative scheduler</span>
  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">task_leds_l</span><span class="p">();</span>
    <span class="n">task_leds_r</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>–¢—É—Ç –¥–≤–µ –∑–∞–¥–∞—á–∏ - –ª–µ–≤—ã–µ —Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã –∏ –ø—Ä–∞–≤—ã–µ. –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏–∑ —Å–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª - –∏ –±—É–¥—å —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å—ë –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–µ –≤—Ä–µ–º—è —É—à–ª–æ –±—ã –Ω–∞ <code>task_leds_l()</code>, —Ç–æ–≥–¥–∞ –∫–∞–∫ –¥–æ <code>task_leds_r()</code> –æ—á–µ—Ä–µ–¥—å –±—ã —Ç–∞–∫ –∏ –Ω–µ –¥–æ—à–ª–∞. –ù–æ –º—ã –∏–º–µ–µ–º –¥–µ–ª–æ –Ω–µ —Å –ø—Ä–æ—Å—Ç—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –∞ —Å–æ–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ - –º–∞–∫—Ä–æ—Å YIELD –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ –≤—ã–∑—ã–≤–∞—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –æ–Ω–∞ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –ø—Ä–æ—Å—Ç–æ –ø–æ–æ—á–µ—Ä—ë–¥–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏, –≤—ã–ø–æ–ª–Ω—è—è —Ç–µ–º —Å–∞–º—ã–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–æ—Å—Ç–µ–π—à–µ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.</p>
<p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–æ–ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ —Å–ª–µ–¥—É–µ—Ç –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —É–¥–µ–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º. –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏, —Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—ä—è–≤–ª—è—Ç—å –µ—ë <code>static</code> - –Ω–∞–ø—Ä–∏–º–µ—Ä <code>static uint8_t i, port</code>, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –∫ <code>uint8_t random6</code> —ç—Ç–æ —Å–∞–º–∞—è –æ–±—ã—á–Ω–∞—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è) –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è.</p>
<p>–ê —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –∫ —ç—Ç–∏–º –¥–≤—É–º –∑–∞–¥–∞—á–∞–º –¥–æ—Å—ã–ø–∞—Ç—å –µ—â—ë –ø–∞—Ä–æ—á–∫—É ? –û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —Ç–æ–≥–¥–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø—Ä–∏–¥—ë—Ç—Å—è –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –∑–∞–Ω–æ–≤–æ:</p>
<div class="highlight"><pre><span></span><span class="c1">// delay</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">240</span> <span class="cm">/* new value */</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span> 
  <span class="n">YIELD</span><span class="p">;</span> <span class="cm">/* cooperate delay */</span> 
<span class="p">}</span>
</pre></div>


<p>–ò —ç—Ç–æ –ø–ª–æ—Ö–æ - —Ç–∞–∫–∏–µ –ø—Ä–æ–µ–∫—Ç—ã —Ç—è–∂–µ–ª–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞, –µ—Å–ª–∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –∫ –∫–∞–∫–æ–º—É-–Ω–∏–±—É–¥—å –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–º—É —Ç–∞–π–º–µ—Ä—É. –í —Å–ª–µ–¥—É—é—â–µ–º –ø—Ä–∏–º–µ—Ä–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ—Ç—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤—Ä–µ–º—è —Å –º–æ–º–µ–Ω—Ç–∞ –≤–∫–ª—é—á–µ–Ω–∏—è. –≠—Ç–æ –≤—Ä–µ–º—è –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã—Ö –∑–∞–¥–∞—á.</p>
<p><a href="https://mazko.github.io/blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/main2.hex">hex</a> | <a href="http://mazko.github.io/picsim.js/a8ff2394bb5884738bbee3ce613be1ce">picsim.js</a></p>
<p><em>isr.c</em></p>
<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;xc.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp"></span>

<span class="c1">// up time since the start of the system</span>
<span class="k">static</span> <span class="kt">uint32_t</span> <span class="n">_uptime</span><span class="p">;</span>

<span class="c1">// http://www.microchip.com/forums/m890404.aspx</span>
<span class="kt">uint32_t</span> <span class="nf">get_uptime</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">GIE</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">GIE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// critical section</span>
    <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">copy</span> <span class="o">=</span> <span class="n">_uptime</span><span class="p">;</span>
    <span class="n">GIE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// critical section end</span>
    <span class="k">return</span> <span class="n">copy</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">_uptime</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// High priority interrupt</span>
<span class="kt">void</span> <span class="n">interrupt</span> <span class="nf">isr</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">INTCONbits</span><span class="p">.</span><span class="n">T0IF</span> <span class="o">&amp;&amp;</span> <span class="n">INTCONbits</span><span class="p">.</span><span class="n">T0IE</span><span class="p">)</span> <span class="p">{</span>                               
    <span class="n">INTCONbits</span><span class="p">.</span><span class="n">T0IF</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">_uptime</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>–ü–æ—Å–∫–æ–ª—å–∫—É —Ä–∞–∑—Ä—è–¥–Ω–æ—Å—Ç—å —Å—á—ë—Ç—á–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ <code>uint32_t</code> –±–æ–ª—å—à–µ —Ä–∞–∑—Ä—è–¥–Ω–æ—Å—Ç–∏ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ - –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>_uptime</code> –Ω–µ –∞—Ç–æ–º–∞—Ä–Ω—ã, –ø–æ—ç—Ç–æ–º—É –≤ —Ñ—É–Ω–∫—Ü–∏—é <code>get_uptime()</code> –≤–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ—Å—Ç–µ–π—à–∏–π –º–µ—Ö–∞–Ω–∏–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ GIE. –¢–µ–ø–µ—Ä—å –≤–æ –≤—Å–µ—Ö –∑–∞–¥–∞—á–∞—Ö –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –±–æ–ª–µ–µ —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π <code>get_uptime()</code>:</p>
<div class="highlight"><pre><span></span><span class="k">static</span> <span class="kt">uint32_t</span> <span class="n">start</span><span class="p">;</span>

<span class="c1">// delay</span>
<span class="c1">// https://arduino.stackexchange.com/a/12588</span>
<span class="c1">// while (millis() &lt; start + ms) ;  // BUGGY version</span>
<span class="c1">// while (millis() - start &lt; ms) ;  // CORRECT version</span>
<span class="k">for</span> <span class="p">(</span><span class="n">start</span> <span class="o">=</span> <span class="n">get_uptime</span><span class="p">();</span> <span class="n">get_uptime</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;)</span> <span class="p">{</span>
  <span class="n">YIELD</span><span class="p">;</span> <span class="cm">/* cooperate delay */</span> 
<span class="p">}</span>
</pre></div>


<p><em>main.c</em></p>
<div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">  xc8 --chip=18f4620 main.c isr.c</span>
<span class="cm">*/</span>

<span class="cp">#include</span> <span class="cpf">&lt;xc.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;config-4620.h&quot;</span><span class="cp"></span>

<span class="c1">// non-reentrant tasks examples</span>

<span class="cp">#include</span> <span class="cpf">&quot;task_l.c&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;task_r.c&quot;</span><span class="cp"></span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// leds</span>
  <span class="n">PORTA</span> <span class="o">=</span> <span class="n">TRISA</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">PORTC</span> <span class="o">=</span> <span class="n">TRISC</span> <span class="o">=</span> <span class="mh">0x18</span><span class="p">;</span>

  <span class="c1">// TMR0 high priority Interrupt, 8 bit, 1:32 Prescale</span>
  <span class="n">RCONbits</span><span class="p">.</span><span class="n">IPEN</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">T0CON</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">T0CONbits</span><span class="p">.</span><span class="n">T08BIT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">T0CONbits</span><span class="p">.</span><span class="n">T0PS2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">INTCONbits</span><span class="p">.</span><span class="n">T0IE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">INTCONbits</span><span class="p">.</span><span class="n">T0IF</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">INTCON2bits</span><span class="p">.</span><span class="n">TMR0IP</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>        
  <span class="n">T0CONbits</span><span class="p">.</span><span class="n">TMR0ON</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">INTCONbits</span><span class="p">.</span><span class="n">GIE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="c1">// simplest cooperative scheduler</span>
  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">task_leds_l</span><span class="p">();</span>
    <span class="n">task_leds_r</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>–ò–Ω–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏. –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–æ—Å—Ç—É–ø –∫ –∫–æ—Ç–æ—Ä—ã–º –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–¥–∞—á. –ü—Ä–∏—á—ë–º –≤ —Å–ª—É—á–∞–µ —Å –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –º–Ω–æ–≥–æ–∑–∞–≥–∞–¥–æ—á–Ω–æ—Å—Ç—å—é –ø—Ä–æ–±–ª–µ–º —Å –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å—é —É —Ç–∞–∫–∏—Ö –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –≤—ã—Ç–µ—Å–Ω—è—é—â–µ–π –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç–∏.</p>
<p>–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–≤–æ—é –ø—Ä–æ—Å—Ç–æ—Ç—É –æ–ø–∏—Å–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç—Å—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å—é - —Ç—É—Ç —á–∏—Å—Ç—ã–π –° –±–µ–∑ –∞—Å—Å–µ–º–±–ª–µ—Ä–Ω—ã—Ö –≤—Å—Ç–∞–≤–æ–∫ –∏ –æ–Ω–æ –≤–ø–æ–ª–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—á–µ–Ω—å —Å–ª–∞–±—ã—Ö –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤.</p>
<p><a href="https://mazko.github.io/blog/posts/2017/02/14/picsimjs-kalkuliator-i-obratnaia-polskaia-zapis/">–î–∞–ª–µ–µ</a> –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ –æ–±—Ä–∞—Ç–Ω–æ–π –ø–æ–ª—å—Å–∫–æ–π –Ω–æ—Ç–∞—Ü–∏–∏.</p>
    </div><!-- /.entry-content -->
  </article>
</section>


<div class="body" id="proiot-comments">
  <div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'mazko';
      var disqus_identifier = 'blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/';
      var disqus_url = 'https://mazko.github.io/blog/posts/2017/02/05/picsimjs-soprogrammy-i-prosteishaia-mnogozadachnost/';
      (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//mazko.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the comments.</noscript>
  </div>
</div>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a rel="nofollow" href="http://getpelican.com/">Pelican</a></li>
                            <li><a rel="nofollow" href="http://python.org/">Python.org</a></li>
                            <li><a rel="nofollow" href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://mazko.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a rel="nofollow" href="http://github.com/mazko">github</a></li>
                            <li><a rel="nofollow" href="http://linkedin.com/in/mazko">linkedin</a></li>
                            <li><a rel="nofollow" href="http://stackoverflow.com/users/281102/oleg-mazko">stackoverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'mazko';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>