<!DOCTYPE html>
<html lang="ru">
<head>
        <meta charset="utf-8" />
        <title>Lucene - —è–∑—ã–∫–æ–≤—ã–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã</title>
        <link rel="stylesheet" href="http://proiot.ru/blog/theme/css/main.css" />
        <link href="http://proiot.ru/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="üè† –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –í—Å–µ–≥–æ üöó Atom Feed" />

        <script>
            (function(){
                var loc = window.location.href+'';
                if (loc.indexOf('https://')==0){
                    window.location.href = loc.replace('https://','http://');
                }
            })();
        </script>

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a rel="nofollow" href="http://github.com/mazko">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://proiot.ru/">üè† –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –í—Å–µ–≥–æ üöó </a></h1>
                <nav><ul>
                    <li><a href="http://proiot.ru/blog/category/admin/">Admin</a></li>
                    <li><a href="http://proiot.ru/blog/category/electronics/">Electronics</a></li>
                    <li><a href="http://proiot.ru/blog/category/embedded/">Embedded</a></li>
                    <li><a href="http://proiot.ru/blog/category/iot/">IoT</a></li>
                    <li class="active"><a href="http://proiot.ru/blog/category/java/">Java</a></li>
                </ul></nav>
        </header><!-- /#banner -->


<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/" rel="bookmark"
           title="Permalink to Lucene - —è–∑—ã–∫–æ–≤—ã–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã">Lucene - —è–∑—ã–∫–æ–≤—ã–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-10-27T00:00:00+03:00">
                –°–± 27 –æ–∫—Ç—è–±—Ä—è 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="http://proiot.ru/blog/author/oleg-mazko/">Oleg Mazko</a>
        </address>
<p>In <a href="http://proiot.ru/blog/category/java/">Java</a>.</p>
<p>tags: <a href="http://proiot.ru/blog/tag/lucene">Lucene</a> <a href="http://proiot.ru/blog/tag/stemming">Stemming</a> </p>
</footer><!-- /.post-info -->      <p>–ö–∞–∫ –í–∞–º <a href="http://proiot.ru/blog/posts/2012/10/21/lucene-postranichnyi-poisk/">–ø–æ–∏—Å–∫</a> ? –ú—ã –≤–≤–æ–¥–∏–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–ø—Ä–æ—Å–∞ —Å–ª–æ–≤–æ <strong>—Å–∞–¥</strong> –∏ –ø–æ–ª—É—á–∞–µ–º <strong>0</strong> (–ù–û–õ–¨) —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ —ç—Ç–æ –∂–µ —Å–ª–æ–≤–æ –≤ –¥—Ä—É–≥–æ–º –ø–∞–¥–µ–∂–µ - <strong>—Å–∞–¥—ã</strong> - –¥–∞—ë—Ç —Ü–µ–ª—ã—Ö <strong>6</strong> (–®–ï–°–¢–¨) ! –í—Å—ë –¥–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ / –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ - <code>StandardAnalyzer</code>, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö —Ç–æ–≥–æ –∏–ª–∏ –∏–Ω–æ–≥–æ —è–∑—ã–∫–∞. –ö–∞–∫–∏–µ –≤–æ–æ–±—â–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è <em>–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ</em> –≤—ã–¥–µ–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤—ã —Å–ª–æ–≤–∞ ? –û—á–µ–Ω—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏, –∏, —á—Ç–æ –Ω–µ–º–∞–ª–æ–≤–∞–∂–Ω–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ - –±—ã—Å—Ç—Ä—ã–º–∏, —è–≤–ª—è—é—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º—ã <a href="http://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%BC%D0%BC%D0%B8%D0%BD%D0%B3" rel="nofollow">—Å—Ç–µ–º–º–∏–Ω–≥–∞</a>, —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö, –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ —è–≤–ª—è—é—Ç—Å—è <a href="http://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%BC%D0%BC%D0%B5%D1%80_%D0%9F%D0%BE%D1%80%D1%82%D0%B5%D1%80%D0%B0" rel="nofollow">–°—Ç–µ–º–º–µ—Ä—ã –ü–æ—Ä—Ç–µ—Ä–∞</a> - –≤–ø–µ—Ä–≤—ã–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –µ—â—ë –≤ –¥–∞–ª—ë–∫–æ–º 1980 –≥–æ–¥—É. –í–≤–µ–¥–∏—Ç–µ –û–î–ù–û —Å–ª–æ–≤–æ, –≤—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "<strong>–°—Ç–µ–º–º–µ—Ä!</strong>":</p>
<script type="text/javascript" src="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/stem.js"> </script>

<script type="text/javascript" src="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/Snowball.min.js"> </script>

<p>
<input maxlength="33" size="33" id="jssnowball_input" value="—Å–∞–¥—ã" style="text-align: left; padding:.3em;" type="text"/>
<select id="jssnowball_language" style="padding:.2em;"><option value="russian">–†—É—Å—Å–∫–∏–π</option><option value="danish">danish</option><option value="dutch">dutch</option><option value="finnish">finnish</option><option value="french">french</option><option value="german">german</option><option value="hungarian">hungarian</option><option value="italian">italian</option><option value="norwegian">norwegian</option><option value="portuguese">portuguese</option><option value="english">english</option><option value="spanish">spanish</option><option value="swedish">swedish</option><option value="romanian">romanian</option><option value="turkish">turkish</option></select>
<button style="padding:.2em;" type="button" onclick="jssnowball_print();"><noscript><span style="color:red;">–í–∫–ª—é—á–∏—Ç–µ JavaScript ! </span></noscript>–°—Ç–µ–º–º–µ—Ä!</button>
</p>

<p id="jssnowball_result">
</p>

<p>–•–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å - –≤ <em>Lucene</em> —É–∂–µ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –º–Ω–æ–≥–∏—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–∑ –∫–æ—Ä–æ–±–∫–∏. –í–æ–ø—Ä–æ—Å —Ç—É—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤ –∏–Ω–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ - –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫, –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑ –Ω–∏—Ö - –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ –±—ã–ª–æ –±—ã –Ω–µ–ø–ª–æ—Ö–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (<code>EnglishAnalyzer</code>) –∏ –†—É—Å—Å–∫–∏–π (<code>RussianAnalyzer</code>). –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —è–∑—ã–∫ —Ç–µ–∫—Å—Ç–∞ –∏ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä, –æ–¥–Ω–∞–∫–æ —É —Ç–∞–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –µ—Å—Ç—å –ø–æ–¥–≤–æ–¥–Ω—ã–π –∫–∞–º–µ–Ω—å. –í—Å—ë –¥–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ —Ç–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—ä—ë–º–∞ —Ç–µ–∫—Å—Ç–∞ - —á–µ–º –æ–Ω –º–µ–Ω—å—à–µ, —Ç–µ–º –±–æ–ª—å—à–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏ –∏ —ç—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–∏—Å–∫–∞, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤—Å–µ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫—É –∑–∞–ø—Ä–æ—Å–∞. –û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –∞–ª–≥–æ—Ä–∏—Ç–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.</p>
<p>–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ <em>Lucene</em>. –í —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–Ω–¥–µ–∫—Å–∞ –¥–æ–±–∞–≤—è—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —è–∑—ã–∫—É –ø–æ–ª—è. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è –≤ <em>Lucene</em> –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å–≤–æ–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª–∞—Å—Å <code>PerFieldAnalyzerWrapper</code>:</p>
<p><em>common/src/main/java/common/LuceneBinding.java</em></p>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">common</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.nio.file.Path</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.nio.file.Paths</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.HashMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Map</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.lucene.analysis.Analyzer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.analysis.en.EnglishAnalyzer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.analysis.miscellaneous.PerFieldAnalyzerWrapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.analysis.ru.RussianAnalyzer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.analysis.standard.StandardAnalyzer</span><span class="o">;</span>

<span class="cm">/* This class is used both by Crawler and SearchServlet */</span>

<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">LuceneBinding</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Path</span> <span class="n">INDEX_PATH</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span>
        <span class="n">System</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&quot;user.home&quot;</span><span class="o">),</span> <span class="s">&quot;lucene-tutorial-index&quot;</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">URI_FIELD</span> <span class="o">=</span> <span class="s">&quot;uri&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">TITLE_FIELD</span> <span class="o">=</span> <span class="s">&quot;title&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">CONTENT_FIELD</span> <span class="o">=</span> <span class="s">&quot;content&quot;</span><span class="o">;</span>

    <span class="cm">/* Russian */</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">RUS_TITLE_FIELD</span> <span class="o">=</span> <span class="s">&quot;rustitle&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">RUS_CONTENT_FIELD</span> <span class="o">=</span> <span class="s">&quot;ruscontent&quot;</span><span class="o">;</span>

    <span class="cm">/* English */</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ENG_TITLE_FIELD</span> <span class="o">=</span> <span class="s">&quot;engtitle&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">ENG_CONTENT_FIELD</span> <span class="o">=</span> <span class="s">&quot;engcontent&quot;</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Analyzer</span> <span class="nf">getAnalyzer</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Analyzer</span><span class="o">&gt;</span> <span class="n">analyzers</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Analyzer</span><span class="o">&gt;();</span>
        <span class="n">analyzers</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">RUS_TITLE_FIELD</span><span class="o">,</span> <span class="k">new</span> <span class="n">RussianAnalyzer</span><span class="o">());</span>
        <span class="n">analyzers</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">RUS_CONTENT_FIELD</span><span class="o">,</span> <span class="k">new</span> <span class="n">RussianAnalyzer</span><span class="o">());</span>
        <span class="n">analyzers</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">ENG_TITLE_FIELD</span><span class="o">,</span> <span class="k">new</span> <span class="n">EnglishAnalyzer</span><span class="o">());</span>
        <span class="n">analyzers</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">ENG_CONTENT_FIELD</span><span class="o">,</span> <span class="k">new</span> <span class="n">EnglishAnalyzer</span><span class="o">());</span>

        <span class="k">return</span> <span class="k">new</span> <span class="n">PerFieldAnalyzerWrapper</span><span class="o">(</span><span class="k">new</span> <span class="n">StandardAnalyzer</span><span class="o">(),</span> <span class="n">analyzers</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>–î–∞–Ω–Ω—ã–µ –ø–æ–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∏–Ω–¥–µ–∫—Å - –º–æ–∂–Ω–æ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º <code>setStored(false)</code>, –ø–æ—Å–∫–æ–ª—å–∫—É –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —É –¥–æ–∫—É–º–µ–Ω—Ç–∞ <code>Document</code> —É–∂–µ –∏–º–µ—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è, —Ö—Ä–∞–Ω—è—â–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º <code>setStored(true)</code>) - –∑–∞—á–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —Ç–µ–º —Å–∞–º—ã–º —Ä–∞–∑–¥—É–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∏–Ω–¥–µ–∫—Å–∞.</p>
<p><em>crawler/src/main/java/crawler/LuceneIndexer.java</em></p>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">crawler</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.Closeable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.log4j.Logger</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.document.Document</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.document.Field</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.document.FieldType</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.index.IndexOptions</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.index.IndexWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.index.IndexWriterConfig</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.index.IndexWriterConfig.OpenMode</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.store.Directory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.store.FSDirectory</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">common.LuceneBinding</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">LuceneIndexer</span> <span class="kd">implements</span> <span class="n">Closeable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Logger</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">Logger</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">LuceneIndexer</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>

    <span class="cm">/* IndexWriter is completely thread safe */</span>

    <span class="kd">private</span> <span class="n">IndexWriter</span> <span class="n">indexWriter</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">indexWriter</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">LuceneIndexer</span><span class="o">.</span><span class="na">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;Closing Index &lt; &quot;</span> <span class="o">+</span> 
                    <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">INDEX_PATH</span> <span class="o">+</span> <span class="s">&quot; &gt; NumDocs: &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">indexWriter</span><span class="o">.</span><span class="na">numDocs</span><span class="o">());</span>
            <span class="k">this</span><span class="o">.</span><span class="na">indexWriter</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="k">this</span><span class="o">.</span><span class="na">indexWriter</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="n">LuceneIndexer</span><span class="o">.</span><span class="na">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;Index Closed OK!&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="n">IOException</span><span class="o">(</span><span class="s">&quot;Index already closed&quot;</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">new_index</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Directory</span> <span class="n">directory</span> <span class="o">=</span> <span class="n">FSDirectory</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">INDEX_PATH</span><span class="o">);</span>
        <span class="kd">final</span> <span class="n">IndexWriterConfig</span> <span class="n">iwConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IndexWriterConfig</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">getAnalyzer</span><span class="o">());</span>
        <span class="n">iwConfig</span><span class="o">.</span><span class="na">setOpenMode</span><span class="o">(</span><span class="n">OpenMode</span><span class="o">.</span><span class="na">CREATE</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">indexWriter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IndexWriter</span><span class="o">(</span><span class="n">directory</span><span class="o">,</span> <span class="n">iwConfig</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">add</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">url</span><span class="o">,</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">html</span><span class="o">)</span> <span class="o">{</span>

        <span class="kd">final</span> <span class="n">String</span> <span class="n">title</span> <span class="o">=</span> <span class="n">HtmlHelper</span><span class="o">.</span><span class="na">extractTitle</span><span class="o">(</span><span class="n">html</span><span class="o">);</span>
        <span class="kd">final</span> <span class="n">String</span> <span class="n">content</span> <span class="o">=</span> <span class="n">HtmlHelper</span><span class="o">.</span><span class="na">extractContent</span><span class="o">(</span><span class="n">html</span><span class="o">);</span>

        <span class="n">LuceneIndexer</span><span class="o">.</span><span class="na">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">&quot;***** &quot;</span> <span class="o">+</span> <span class="n">url</span> <span class="o">+</span> <span class="s">&quot; *****&quot;</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">title</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">LuceneIndexer</span><span class="o">.</span><span class="na">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="n">title</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">LuceneIndexer</span><span class="o">.</span><span class="na">logger</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>

        <span class="kd">final</span> <span class="n">Document</span> <span class="n">doc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Document</span><span class="o">();</span>

        <span class="kd">final</span> <span class="n">FieldType</span> <span class="n">urlType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FieldType</span><span class="o">();</span>
        <span class="n">urlType</span><span class="o">.</span><span class="na">setIndexOptions</span><span class="o">(</span><span class="n">IndexOptions</span><span class="o">.</span><span class="na">DOCS</span><span class="o">);</span>
        <span class="n">urlType</span><span class="o">.</span><span class="na">setStored</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">urlType</span><span class="o">.</span><span class="na">setTokenized</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">urlType</span><span class="o">.</span><span class="na">setStoreTermVectorOffsets</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">urlType</span><span class="o">.</span><span class="na">setStoreTermVectorPayloads</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">urlType</span><span class="o">.</span><span class="na">setStoreTermVectorPositions</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">urlType</span><span class="o">.</span><span class="na">setStoreTermVectors</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">doc</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Field</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">URI_FIELD</span><span class="o">,</span> <span class="n">url</span><span class="o">,</span> <span class="n">urlType</span><span class="o">));</span>

        <span class="kd">final</span> <span class="n">FieldType</span> <span class="n">tokType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FieldType</span><span class="o">();</span>
        <span class="n">tokType</span><span class="o">.</span><span class="na">setIndexOptions</span><span class="o">(</span><span class="n">IndexOptions</span><span class="o">.</span><span class="na">DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS</span><span class="o">);</span>
        <span class="n">tokType</span><span class="o">.</span><span class="na">setStored</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">tokType</span><span class="o">.</span><span class="na">setTokenized</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">tokType</span><span class="o">.</span><span class="na">setStoreTermVectorOffsets</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">tokType</span><span class="o">.</span><span class="na">setStoreTermVectorPayloads</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">tokType</span><span class="o">.</span><span class="na">setStoreTermVectorPositions</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">tokType</span><span class="o">.</span><span class="na">setStoreTermVectors</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">title</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">doc</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Field</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">TITLE_FIELD</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="n">tokType</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="n">doc</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Field</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">CONTENT_FIELD</span><span class="o">,</span> <span class="n">content</span><span class="o">,</span> <span class="n">tokType</span><span class="o">));</span>

        <span class="c1">// Language setStored(false) - we already have original value</span>

        <span class="kd">final</span> <span class="n">FieldType</span> <span class="n">lngType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FieldType</span><span class="o">();</span>
        <span class="n">lngType</span><span class="o">.</span><span class="na">setIndexOptions</span><span class="o">(</span><span class="n">IndexOptions</span><span class="o">.</span><span class="na">DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS</span><span class="o">);</span>
        <span class="n">lngType</span><span class="o">.</span><span class="na">setStored</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">lngType</span><span class="o">.</span><span class="na">setTokenized</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">lngType</span><span class="o">.</span><span class="na">setStoreTermVectorOffsets</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">lngType</span><span class="o">.</span><span class="na">setStoreTermVectorPayloads</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">lngType</span><span class="o">.</span><span class="na">setStoreTermVectorPositions</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="n">lngType</span><span class="o">.</span><span class="na">setStoreTermVectors</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>

        <span class="cm">/* Russian */</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">title</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">doc</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Field</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">RUS_TITLE_FIELD</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="n">lngType</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="n">doc</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Field</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">RUS_CONTENT_FIELD</span><span class="o">,</span> <span class="n">content</span><span class="o">,</span> <span class="n">lngType</span><span class="o">));</span>

        <span class="cm">/* English */</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">title</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">doc</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Field</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">ENG_TITLE_FIELD</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="n">lngType</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="n">doc</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Field</span><span class="o">(</span><span class="n">LuceneBinding</span><span class="o">.</span><span class="na">ENG_CONTENT_FIELD</span><span class="o">,</span> <span class="n">content</span><span class="o">,</span> <span class="n">lngType</span><span class="o">));</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">indexWriter</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">indexWriter</span><span class="o">.</span><span class="na">addDocument</span><span class="o">(</span><span class="n">doc</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="kd">final</span> <span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">LuceneIndexer</span><span class="o">.</span><span class="na">logger</span><span class="o">.</span><span class="na">error</span><span class="o">(</span><span class="n">ex</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>–î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π <code>MultiFieldQueryParser</code>, –ø—Ä–æ—Å—Ç–æ —Ä–∞—Å—à–∏—Ä–∏–≤ –ø–µ—Ä–µ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö –Ω–∞—Å –ø–æ–ª–µ–π:</p>
<p><em>server/src/main/java/server/QueryHelper.java</em></p>
<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nn">server</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.apache.lucene.queryparser.classic.MultiFieldQueryParser</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.queryparser.classic.ParseException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.queryparser.classic.QueryParser</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.queryparser.classic.QueryParserBase</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.apache.lucene.search.Query</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">common.LuceneBinding</span><span class="o">;</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="nc">QueryHelper</span> <span class="o">{</span>
    <span class="kd">static</span> <span class="n">Query</span> <span class="nf">generate</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">story</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ParseException</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">QueryParser</span> <span class="n">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MultiFieldQueryParser</span><span class="o">(</span>
                <span class="k">new</span> <span class="n">String</span><span class="o">[]</span> <span class="o">{</span> 
                        <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">TITLE_FIELD</span><span class="o">,</span> 
                        <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">CONTENT_FIELD</span><span class="o">,</span>
                        <span class="cm">/* Russian */</span>
                        <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">RUS_TITLE_FIELD</span><span class="o">,</span> 
                        <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">RUS_CONTENT_FIELD</span><span class="o">,</span>
                        <span class="cm">/* English */</span>
                        <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">ENG_TITLE_FIELD</span><span class="o">,</span> 
                        <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">ENG_CONTENT_FIELD</span> <span class="o">},</span>
                <span class="n">LuceneBinding</span><span class="o">.</span><span class="na">getAnalyzer</span><span class="o">());</span>

        <span class="cm">/* Operator OR is used by default */</span>

        <span class="n">parser</span><span class="o">.</span><span class="na">setDefaultOperator</span><span class="o">(</span><span class="n">QueryParser</span><span class="o">.</span><span class="na">Operator</span><span class="o">.</span><span class="na">AND</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">QueryParserBase</span><span class="o">.</span><span class="na">escape</span><span class="o">(</span><span class="n">story</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>


<p>–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∏–¥–µ–∫—Å–∞—Ü–∏–∏ —Å–∞–π—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–æ–≤–æ–π –≤—ã–¥–∞—á–∏ –≤—ã–≥–ª—è–¥—è—Ç —É–∂–µ –Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ:</p>
<div class="highlight"><pre><span></span>~$ mvn clean install <span class="o">&amp;&amp;</span> bash -c <span class="s1">&#39;mvn -pl server/ jetty:run &amp; sleep 10 &amp;&amp; \</span>
<span class="s1">    mvn -pl crawler/ exec:java -Dexec.mainClass=&quot;crawler.App&quot; &amp; \</span>
<span class="s1">    trap &quot;kill -TERM -$$&quot; SIGINT ; wait&#39;</span>
</pre></div>


<p><img alt="screenshot" src="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/linux_search_stem_sad.png" style="width:100%; border:1px solid #ddd;"></p>
<p><img alt="screenshot" src="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/linux_search_stem_sad1.png" style="width:100%; border:1px solid #ddd;"></p>
<p><img alt="screenshot" src="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/linux_search_stem_test.png" style="width:100%; border:1px solid #ddd;"></p>
<p><img alt="screenshot" src="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/linux_search_stem_tests.png" style="width:100%; border:1px solid #ddd;"></p>
<p><a href="http://proiot.ru/blog/posts/2012/10/28/lucene-podsvetka-vkhozhdenii-v-rezultatakh-vydachi/">–î–∞–ª–µ–µ</a> —Ä–µ–∞–ª–∏–∑—É–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤—Ö–æ–∂–¥–µ–Ω–∏–π.</p>
<p><a href="http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/lucene-tutorial.zip">–ò—Å—Ö–æ–¥–Ω–∏–∫–∏</a></p>
    </div><!-- /.entry-content -->
  </article>
</section>

<div class="body" style="margin-bottom: 2em">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- proiot-index -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6247427373315098"
     data-ad-slot="2711782349"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>

<div class="body" id="proiot-comments">
  <div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'mazko';
      var disqus_identifier = 'blog/posts/2012/10/27/lucene-iazykovye-analizatory/';
      var disqus_url = 'http://proiot.ru/blog/posts/2012/10/27/lucene-iazykovye-analizatory/';
      (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//mazko.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the comments.</noscript>
  </div>
</div>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a rel="nofollow" href="http://getpelican.com/">Pelican</a></li>
                            <li><a rel="nofollow" href="http://python.org/">Python.org</a></li>
                            <li><a rel="nofollow" href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://proiot.ru/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a rel="nofollow" href="http://github.com/mazko">github</a></li>
                            <li><a rel="nofollow" href="http://linkedin.com/in/mazko">linkedin</a></li>
                            <li><a rel="nofollow" href="http://stackoverflow.com/users/281102/oleg-mazko">stackoverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'mazko';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>