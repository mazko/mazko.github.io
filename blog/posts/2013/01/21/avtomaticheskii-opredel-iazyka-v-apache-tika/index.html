<!DOCTYPE html>
<html lang="ru">
<head>
        <meta charset="utf-8" />
        <title>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–µ–¥–µ–ª—å —è–∑—ã–∫–∞ –≤ Apache Tika</title>
        <link rel="stylesheet" href="https://mazko.github.io/blog/theme/css/main.css" />
        <link href="https://mazko.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="üè† –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –í—Å–µ–≥–æ üöó Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://mazko.github.io/">üè† –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –í—Å–µ–≥–æ üöó </a></h1>
                <nav><ul>
                    <li class="active"><a href="https://mazko.github.io/blog/category/admin/">Admin</a></li>
                    <li><a href="https://mazko.github.io/blog/category/electronics/">Electronics</a></li>
                    <li><a href="https://mazko.github.io/blog/category/embedded/">Embedded</a></li>
                    <li><a href="https://mazko.github.io/blog/category/iot/">IoT</a></li>
                    <li><a href="https://mazko.github.io/blog/category/java/">Java</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="https://mazko.github.io/blog/posts/2013/01/21/avtomaticheskii-opredel-iazyka-v-apache-tika/" rel="bookmark"
           title="Permalink to –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–µ–¥–µ–ª—å —è–∑—ã–∫–∞ –≤ Apache Tika">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–µ–¥–µ–ª—å —è–∑—ã–∫–∞ –≤ Apache Tika</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-01-21T00:00:00+02:00">
                –ü–Ω 21 —è–Ω–≤–∞—Ä—è 2013
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://mazko.github.io/blog/author/oleg-mazko/">Oleg Mazko</a>
        </address>
<p>In <a href="https://mazko.github.io/blog/category/admin/">Admin</a>.</p>
<p>tags: <a href="https://mazko.github.io/blog/tag/nlp">NLP</a> <a href="https://mazko.github.io/blog/tag/tika">Tika</a> </p>
</footer><!-- /.post-info -->      <p><a href="http://tika.apache.org/" rel="nofollow">Apache Tika</a> - —ç—Ç–æ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ <code>Java</code> –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ - –≤—ã–¥–µ–ª–µ–Ω–∏—è –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã—Ö, –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –∏–∑ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ —Ç.–¥. –£–º–µ–µ—Ç —ç—Ç–∞ —à—Ç—É–∫–∞ –¥–µ–ª–∞—Ç—å –º–Ω–æ–≥–æ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ, –Ω–æ –º—ã —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ <a href="http://en.wikipedia.org/wiki/N-gram" rel="nofollow">N-gram</a>-—Ñ–∞–π–ª–æ–≤ –¥–ª—è –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö —è–∑—ã–∫–æ–≤, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö Tika –∏–∑ –∫–æ—Ä–æ–±–∫–∏, —á—Ç–æ–±—ã —Å –∏—Ö –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ –±—ã–ª–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —è–∑—ã–∫–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤.
–î–ª—è –Ω–∞—á–∞–ª–∞ –±—ã–ª–æ –±—ã –Ω–µ–ø–ª–æ—Ö–æ —Å–∫–∞—á–∞—Ç—å –∏ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ <a href="http://www.apache.org/dyn/closer.cgi/tika/tika-app-1.2.jar" rel="nofollow">tika-app-1.2.jar</a> ~ 27 –ú–ë. –ö–∞–∫ –∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ <code>Java</code> –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ <a href="http://tika.apache.org/" rel="nofollow">Tika</a> –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º <code>java -jar tika-app-1.2.jar --help</code>, —Ö–æ—Ç—è –≤ <em>Linux</em> –º–æ–∂–Ω–æ –µ—â—ë –ø—Ä–æ—â–µ:</p>
<div class="highlight"><pre><span></span>~$ java -version
~$ chmod +x tika-app-1.2.jar
~$ ./tika-app-1.2.jar --help
</pre></div>


<p>–ï—Å–ª–∏ –Ω–∞ –º–∞—à–∏–Ω–µ —Å—Ç–æ–∏—Ç <code>Java</code>, –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É–µ—Ç –æ–∂–∏–¥–∞—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∫–æ–º–∞–Ω–¥. –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º –º—ã —Ö–æ—Ç–∏–º –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:</p>
<div class="highlight"><pre><span></span>~$ ./tika-app-1.2.jar --list-supported-types
</pre></div>


<p>–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ —Ç–∞–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, —Ç–æ–ª—å–∫–æ –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ:</p>
<div class="highlight"><pre><span></span>application/pdf
  alias:     application/x-pdf
  supertype: application/octet-stream
  parser:    org.apache.tika.parser.DefaultParser
application/msword
  alias:     application/vnd.ms-word
  supertype: application/x-tika-msoffice
  parser:    org.apache.tika.parser.DefaultParser
</pre></div>


<p>–î–∞–≤–∞–π—Ç–µ —É–±–µ—Ä—ë–º –≤—Å–µ —Å—Ç—Ä–æ—á–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –ø—Ä–æ–±–µ–ª–∞, –∞ –∑–∞—Ç–µ–º –ø–æ—Å—á–∏—Ç–∞–µ–º —Å–∫–æ–ª—å–∫–æ –∏—Ö –æ—Å—Ç–∞–ª–æ—Å—å:</p>
<div class="highlight"><pre><span></span>~$ ./tika-app-1.2.jar --list-supported-types <span class="p">|</span> sed <span class="s1">&#39;/^ /d&#39;</span>
~$ ./tika-app-1.2.jar --list-supported-types <span class="p">|</span> sed <span class="s1">&#39;/^ /d&#39;</span> <span class="p">|</span> wc -l
</pre></div>


<p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º <a href="http://tika.apache.org/" rel="nofollow">Tika</a> –≤–µ—Ä—Å–∏—è 1.2 –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 1372 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞. </p>
<p>–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ <a href="http://tika.apache.org/" rel="nofollow">Tika</a> –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è ~27 —è–∑—ã–∫–æ–≤ —Å—Ä–µ–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞–ø—Ä–∏–º–µ—Ä —Ç–æ—á–Ω–æ –Ω–µ—Ç —Ç—É—Ä–µ—Ü–∫–æ–≥–æ - –ø–æ—Å—Ç–∞–≤–∏–º —Å–µ–±–µ –∑–∞–¥–∞—á—É —ç—Ç–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å. –î–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è <a href="http://en.wikipedia.org/wiki/N-gram" rel="nofollow">N-gram</a> –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–≤—è–∑–Ω—ã–π —Ç–µ–∫—Å—Ç - —á–µ–º –±–æ–ª—å—à–µ —Ç–µ–º –ª—É—á—à–µ, –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ–º —á—Ç–æ –º—ã –∑–∞—Ä–∞–Ω–µ–µ –∑–Ω–∞–µ–º —è–∑—ã–∫ —ç—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞. –î–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –≤–æ—Ç –Ω–∞—à–µ–ª—Å—è –≤ –ì—É–≥–ª–µ –¥–æ–≤–æ–ª—å–Ω–æ –±–æ–ª—å—à–æ–π <a href="http://www.ittihad.com.tr/ipa.pdf" rel="nofollow">ipa.pdf</a> —Ñ–∞–π–ª –Ω–∞ —Ç—É—Ä–µ—Ü–∫–æ–º —è–∑—ã–∫–µ. –ü—Ä–µ–¥–ª–∞–≥–∞—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å –ø–æ–º–æ—â—å—é <a href="http://tika.apache.org/" rel="nofollow">Tika</a> –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é:</p>
<div class="highlight"><pre><span></span>~$ ./tika-app-1.2.jar -d ipa.pdf
</pre></div>


<p>–í—ã–≤–æ–¥: <code>application/pdf</code>. –†–∞–¥–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –ø–æ–ø—Ä–æ—Å–∏–º –≤—ã–≤–µ—Å—Ç–∏ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–∞:</p>
<div class="highlight"><pre><span></span>~$ ./tika-app-1.2.jar -m ipa.pdf 
ERROR - Error: Could not parse predefined CMAP file <span class="k">for</span> <span class="s1">&#39;Adobe-Ide-UCS2&#39;</span>
Content-Length: <span class="m">9055059</span>
Content-Type: application/pdf
Creation-Date: <span class="m">2008</span>-01-26T23:40:04Z
created: Sun Jan <span class="m">27</span> <span class="m">01</span>:40:04 EET <span class="m">2008</span>
date: <span class="m">2008</span>-01-26T23:40:04Z
dcterms:created: <span class="m">2008</span>-01-26T23:40:04Z
meta:creation-date: <span class="m">2008</span>-01-26T23:40:04Z
producer: PDF Creator Plus <span class="m">4</span>.0 - http://www.peernet.com
resourceName: ipa.pdf
xmp:CreatorTool: PDF Creator Plus <span class="m">4</span>.0 - http://www.peernet.com
xmpTPg:NPages: <span class="m">2351</span>
</pre></div>


<p>–û—à–∏–±–∫–∞ <code>Adobe-Ide-UCS2</code> —Å–≤—è–∑–∞–Ω–∞ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ —Å <a href="http://tika.apache.org/" rel="nofollow">Tika</a>, –∞ —Å <a href="http://pdfbox.apache.org/" rel="nofollow">pdfbox</a> - –Ω–æ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –º—ã —É–≤–∏–¥–µ–ª–∏ —á—Ç–æ —Ö–æ—Ç–µ–ª–∏, –ø–æ—ç—Ç–æ–º—É –¥–∞–ª–µ–µ –ø—Ä–µ–¥–ª–∞–≥–∞—é —ç—Ç—É –æ—à–∏–±–∫—É –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å. –¢–µ–ø–µ—Ä—å –∏–∑–≤–ª–µ—á–µ–º –∏–∑ –Ω–∞—à–µ–≥–æ <em>pdf</em> –ø–æ–ª–µ–∑–Ω—ã–π —Ç–µ–∫—Å—Ç:</p>
<div class="highlight"><pre><span></span>~$ ./tika-app-1.2.jar -t ipa.pdf &gt; trout
~$ ./tika-app-1.2.jar -T ipa.pdf &gt; trout
~$ file -bi trout
</pre></div>


<p>–í—ã–≤–æ–¥ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–∞–Ω–¥—ã: <code>text/plain; charset=utf-8</code>. –í —Å–ª—É—á–∞–µ <code>-T</code> —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –Ω–µ–º–Ω–æ–≥–æ <em>–ø–ª–æ—Ç–Ω–µ–µ</em> –∑–∞ —Å—á—ë—Ç —É–¥–∞–ª–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, –æ—Ç—Å—Ç—É–ø–æ–≤ –∏ —Ç.–¥. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –ø–æ–ª–µ–∑–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º ~5,6 –ú–ë –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å 9 –ú–ë –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ <em>pdf</em>. –ù—É –∏ –Ω–∞–∫–æ–Ω–µ—Ü –ø–æ–ø—Ä–æ–±—É–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —è–∑—ã–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞:</p>
<div class="highlight"><pre><span></span>~$ ./tika-app-1.2.jar -l ipa.pdf
</pre></div>


<p>–í—ã–≤–æ–¥: <code>et</code>. –¢—É—Ç —É–¥–∏–≤–ª—è—Ç—å—Å—è –Ω–µ—á–µ–º—É - –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç—É—Ä–µ—Ü–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ <a href="http://tika.apache.org/" rel="nofollow">Tika</a> –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–∏—Å–æ–∫ <a href="http://en.wikipedia.org/wiki/N-gram" rel="nofollow">N-gram</a>, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–π –¥–ª—è —ç—Ç–æ–≥–æ —è–∑—ã–∫–∞. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–±—Ö–æ–¥–∏–º—ã–π —Ñ–∞–π–ª –º–æ–∂–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–º–µ—é—â–µ–≥–æ—Å—è —Ç–µ–∫—Å—Ç–∞, –≥–¥–µ –≤ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–µ <em>tr</em> - —ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—É—Ä–µ—Ü–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php" rel="nofollow">ISO 639-2</a>.</p>
<div class="highlight"><pre><span></span>~$ ./tika-app-1.2.jar --create-profile<span class="o">=</span>tr -eUTF-8 trout
</pre></div>


<p>–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª <em>tr.ngp</em>. <a href="http://tika.apache.org/" rel="nofollow">Tika</a> —Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ <em>.ngp</em> –ø—Ä–æ—Ñ–∞–π–ª–æ–≤ –∏–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ <code>tika.language.properties</code>. –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–µ–¥—Ä–∞—Ö <a href="http://www.apache.org/dyn/closer.cgi/tika/tika-app-1.2.jar" rel="nofollow">tika-app-1.2.jar</a>, –Ω–æ –µ–≥–æ –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å - —Å–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é <code>tika.language.override.properties</code> –∏ —Å–æ–æ–±—â–∏—Ç—å –æ–± —ç—Ç–æ–º —á–µ—Ä–µ–∑ <code>java classpath</code>. –ü–æ—Å–ª–µ —á–µ–≥–æ –≤ <code>tika.language.override.properties</code> –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫–ª—é—á <code>languages</code> —Ç—É—Ä–µ—Ü–∫–∏–º —è–∑—ã–∫–æ–º (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á <code>name.tr</code> —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º <em>Turkish</em>. –ü—Ä–æ–±—É–µ–º:</p>
<div class="highlight"><pre><span></span>~$ mkdir -p org/apache/tika/language
~$ cp tr.ngp org/apache/tika/language
<span class="c1">#cp tika.language.override.properties org/apache/tika/language</span>
<span class="c1">#tika.language.override.properties languages &lt;&lt; tr</span>
<span class="c1">#tika.language.override.properties name.tr=Turkish</span>
~$ java -cp .:tika-app-1.2.jar org.apache.tika.cli.TikaCLI -l <span class="se">\</span>
http://tr.wikipedia.org/wiki/Linus_Benedict_Torvalds
</pre></div>


<p>–í—ã–≤–æ–¥: <code>tr</code>. –£—Ä–∞ ! –ú—ã —Å –í–∞–º–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ –æ–±—É—á–∏–ª–∏ <a href="http://tika.apache.org/" rel="nofollow">Tika</a> –Ω–æ–≤–æ–º—É —è–∑—ã–∫—É ! –¢–µ–ø–µ—Ä—å –µ—â—ë –æ–¥–Ω–∞ –¥–∞—á–∞ - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å <em>tr.ngp</em> –≤ <a href="http://mazko.github.io/jsli/" rel="nofollow">javascript</a>:</p>
<div class="highlight"><pre><span></span><span class="nv">LNG</span><span class="o">=</span><span class="sb">`</span>basename <span class="nv">$1</span> .ngp<span class="sb">`</span>
<span class="nv">SUM</span><span class="o">=</span><span class="m">0</span>
<span class="k">for</span> COUNT in <span class="k">$(</span>sed <span class="s1">&#39;/^#/d;s/^\S\+\s\+\([0-9]\+\)$/\1/&#39;</span> <span class="nv">$LNG</span>.ngp<span class="k">)</span>
<span class="k">do</span>
<span class="nv">SUM</span><span class="o">=</span><span class="sb">`</span>expr <span class="nv">$SUM</span> + <span class="nv">$COUNT</span><span class="sb">`</span><span class="p">;</span>
<span class="k">done</span>

<span class="nb">echo</span> <span class="s2">&quot;(function() {&quot;</span> &gt; <span class="nv">$LNG</span>.js
<span class="nb">echo</span> <span class="s2">&quot;var ngrams = {&quot;</span> &gt;&gt; <span class="nv">$LNG</span>.js
perl -CSD -p -e <span class="s1">&#39;s{([^\t\n\x20-\x7E])}{sprintf &quot;\\u%04x&quot;, ord $1}eg&#39;</span> <span class="se">\</span>
-f <span class="nv">$LNG</span>.ngp <span class="p">|</span> sed <span class="s1">&#39;/^#/d;s/^\(\S\+\)\s\+\([0-9]\+\)$/&quot;\1&quot;:\2,/&#39;</span> &gt;&gt; <span class="nv">$LNG</span>.js
sed -i <span class="s1">&#39;$s/,$//&#39;</span> <span class="nv">$LNG</span>.js
<span class="nb">echo</span> <span class="s2">&quot;};&quot;</span> &gt;&gt; <span class="nv">$LNG</span>.js
<span class="nb">echo</span> <span class="s2">&quot;LanguageIdentifier.addProfile(&#39;</span><span class="nv">$LNG</span><span class="s2">&#39;, ngrams, </span><span class="nv">$SUM</span><span class="s2">);&quot;</span> &gt;&gt; <span class="nv">$LNG</span>.js
<span class="nb">echo</span> <span class="s2">&quot;}());&quot;</span> &gt;&gt; <span class="nv">$LNG</span>.js
</pre></div>


<p>–°–æ—Ö—Ä–∞–Ω–∏–º –∫–∞–∫ <code>ngp2js</code>, –∑–∞—Ç–µ–º <code>chmod +x ngp2js</code> –∏ –∑–∞–ø—É—Å–∫–∞–µ–º: <code>./ngp2js tr.ngp</code>. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω <code>tr.js</code> —Ä–∞–∑–º–µ—Ä–æ–º ~13 –ö–ë.
–ï—Å–ª–∏ –æ—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–æ —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞—Ç—å - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö <a href="http://en.wikipedia.org/wiki/N-gram" rel="nofollow">N-gram</a> —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–Ω–æ –º–Ω–æ–≥–æ —Ö–æ—Ä–æ—à–µ–≥–æ —Å–≤—è–∑–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∑–∞—Ä–∞–Ω–µ–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —è–∑—ã–∫–∞. –°–∞–º –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è <em>.ngp</em> –ø—Ä–æ—Ñ–∞–π–ª–æ–≤ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç –∏ —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º—É–º —É—Å–∏–ª–∏–π.</p>
    </div><!-- /.entry-content -->
  </article>
</section>


<div class="body" id="proiot-comments">
  <div class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'mazko';
      var disqus_identifier = 'blog/posts/2013/01/21/avtomaticheskii-opredel-iazyka-v-apache-tika/';
      var disqus_url = 'https://mazko.github.io/blog/posts/2013/01/21/avtomaticheskii-opredel-iazyka-v-apache-tika/';
      (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//mazko.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the comments.</noscript>
  </div>
</div>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a rel="nofollow" href="http://getpelican.com/">Pelican</a></li>
                            <li><a rel="nofollow" href="http://python.org/">Python.org</a></li>
                            <li><a rel="nofollow" href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://mazko.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a rel="nofollow" href="http://github.com/mazko">github</a></li>
                            <li><a rel="nofollow" href="http://linkedin.com/in/mazko">linkedin</a></li>
                            <li><a rel="nofollow" href="http://stackoverflow.com/users/281102/oleg-mazko">stackoverflow</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

<script type="text/javascript">
    var disqus_shortname = 'mazko';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'https://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>